[{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CODE_OF_CONDUCT.html","id":null,"dir":"","previous_headings":"","what":"Contributor Code of Conduct","title":"Contributor Code of Conduct","text":"contributors maintainers project, pledge respect people contribute reporting issues, posting feature requests, updating documentation, submitting pull requests patches, activities. committed making participation project harassment-free experience everyone, regardless level experience, gender, gender identity expression, sexual orientation, disability, personal appearance, body size, race, ethnicity, age, religion. Examples unacceptable behavior participants include use sexual language imagery, derogatory comments personal attacks, trolling, public private harassment, insults, unprofessional conduct. Project maintainers right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct. Project maintainers follow Code Conduct may removed project team. Instances abusive, harassing, otherwise unacceptable behavior may reported opening issue contacting one project maintainers. Code Conduct adapted Contributor Covenant (http:contributor-covenant.org), version 1.0.0, available http://contributor-covenant.org/version/1/0/0/","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"how-to-contribute-code-draft","dir":"","previous_headings":"","what":"How to contribute code (DRAFT)","title":"NA","text":"👍🎉 Hello warm welcome guidelines contributing code! 🎉👍 Thanks taking time read guidelines. helps keep code repository easy maintain code easy follow. mostly guidelines, rules. Use best judgment, feel free propose changes document pull request.","code":""},{"path":[]},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"open-issue","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Open issue","title":"NA","text":"Open issue describe update planning address ’s usually helpful include worked example update issue maintainer, wait feedback comments - maybe different approaches need exploring","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"install-software","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Install software","title":"NA","text":"install Git machine install R install Rstudio - recommended - editors available","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"create-new-branch","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Create new branch","title":"NA","text":"admin/contributor rights aquaMetrics team, can create new branch . Click ‘Branch: …’ button main repository page. clone repository local machine: (Replacing ?? issue number found Github) first two lines clone repository open directory files copied . last line ‘checkout’ create new branch called issue-…can now start work editing new branch. using RStudio, use open > new project > version control > paste url: https://github.com/aquaMetrics/rict created branch Github remember Pull Rstudio change branch using ‘Git’ panel","code":"git clone https://github.com/aquaMetrics/rict cd phytobenthosMetrics/ git checkout -b issue-??"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"coding-style","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Coding style","title":"NA","text":"coding /write documentation etc Add comments required explain rather every line needs comments - large unusual sections Document code follow standard CRAN checks file structure R Package guidance useful resource Run checks tests locally - commit devtools::test() Testing allows check coding ‘style’ rules lintr package See .lintr file exact linting rules applied testing","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"commit","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Commit","title":"NA","text":"Commit message reference issue number e.g. ‘docs: closes #1’- ‘#1’ issue number sure write commit message? Try use commit message guidance, although enforced. Push changes remote branch","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/CONTRIBUTING.html","id":"pull-request","dir":"","previous_headings":"How to contribute code (DRAFT) > Most changes to code should follow this route:","what":"Pull request","title":"NA","text":"Github create Pull Request master branch issue-?? branch Wait maintainer review, check tests break, code tested required Changes merged master ‘test-1’ branch deleted.","code":""},{"path":[]},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"intro","dir":"Articles","previous_headings":"","what":"Intro","title":"Freshwater Macroinvertebrate Taxa Lists","text":"taxa lists use identification? According WFD100 document, five standardised taxa lists. particular, Taxa List 2 5 (TL2/TL5) widely adopted reporting purposes. TL2 family-level(ish) list used routine WHPT/RICT reporting. TL5 used species-level(ish) reporting including AWIC. taxa lists allow changes environment detected applying consistent levels analysis - making changes samples directly comparable.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"data-sources","dir":"Articles","previous_headings":"","what":"Data Sources","title":"Freshwater Macroinvertebrate Taxa Lists","text":"combine taxa table freshwater macro-invertebrates table called INVERT-TAXON-DICTIONARY stored macroinverebrateMetrics R package. table provides basis taxa lists used analysis including WFD100 reference lists. Subsets table provided Labware based LIMS ESRI’s Survey123 data entry. INVERT-TAXON-DICTIONARY copy previous table held NEMS (predecessor LIMS). R package used calculating metrics reporting purposes.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"implementors-trap","dir":"Articles","previous_headings":"","what":"Implementor’s Trap","title":"Freshwater Macroinvertebrate Taxa Lists","text":"must implement taxonomy, keys, metrics data sharing standards independently produced different organisations maintained updated sync. ideal world, download globally managed list taxa, identification keys, metrics reporting tools tightly coordinated allow sharing data. However, number independent sources truth. include WFD100, National Biodiversity Network (NBN), Environmental Change Network (ECN), metrics identification keys. solve implementation dilemma, combine sources truth taxa table (INVERT-TAXON-DICTIONARY), co-ordinate updates keys, data entry, training, auditing data-sharing required. repeated similar way lists, example diatoms, macrophytes marine lists.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"summary-of-macroinvertebrate-taxa-data-flow","dir":"Articles","previous_headings":"Implementor’s Trap","what":"Summary of macroinvertebrate taxa data flow","title":"Freshwater Macroinvertebrate Taxa Lists","text":"(..>) Dotted line arrow shows irregular usage. (..) Dotted line arrow shows planned implemented . (->) Solid line arrow shows data previously currently flows majority connections automated.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"metadata","dir":"Articles","previous_headings":"","what":"Metadata","title":"Freshwater Macroinvertebrate Taxa Lists","text":"INVERT-TAXON-DICTIONARY single table 49 columns. Covering taxonomy, ECN NBN identifiers, metric scores, taxa lists, presentation record-keeping. columns table described :","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"requirements","dir":"Articles","previous_headings":"","what":"Requirements","title":"Freshwater Macroinvertebrate Taxa Lists","text":"filtering columns INVERT-TAXON-DICTIONARY, can filter table provide taxa lists matching requirements: Taxa lists limit level analysis keep reporting training consistent. LIMS requires three taxa lists, TL2, TL5 (including LAMM) TL5_ECN (including LAMM ECN). LIMS requires single column/list unique taxa names user pick . Survey123 requires TL2 table Taxon name, WHPT BMWP scores. Auditing TL5 TL2 must possible (even extra taxa included). Lists TL2 TL5 must available external auditors reference. taxa names match names preferred identification keys. Taxa names match requirements metric/modelling tools (separate column required). Taxa results share-able NBN gateway. Taxa results share-able ECN. Include additional taxa TL2 list routinely identified. calculate LAMM metric, additional taxa must also added TL5 list. sites ECN network, additional taxa needed added TL5 match ECN taxa list. Three target lists analysis TL2 (including extra SEPA taxa) TL5 (including LAMM) ECN levels required documentation providing reference analysts.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"prepare-lists","dir":"Articles","previous_headings":"","what":"Prepare Lists","title":"Freshwater Macroinvertebrate Taxa Lists","text":"work number steps create target lists various levels analysis.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"tl5-including-lamm","dir":"Articles","previous_headings":"Prepare Lists","what":"TL5 including LAMM","title":"Freshwater Macroinvertebrate Taxa Lists","text":"duplicate LAMM taxa LAMM list includes non-standard groups/aggregates included WFD100 taxa lists. Combine LAMM TL5","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"tl5_ecn","dir":"Articles","previous_headings":"Prepare Lists","what":"TL5_ECN","title":"Freshwater Macroinvertebrate Taxa Lists","text":"’s TL5 TL_ECN Mainly Beetle Corixidae species ’s ECN TL5 Mainly Oligochaeta families Beetle families found TL5","code":"[1] \"Physa acuta\"                     \"Oligochaeta\"                       [3] \"Nemurella picteti\"               \"Mesovelia furcata\"                 [5] \"Hydrometra stagnorum\"            \"Velia\"                             [7] \"Gerris argentatus\"               \"Gerris lacustris\"                  [9] \"Gerris odontogaster\"             \"Gerris thoracicus\"                [11] \"Nepa cinerea\"                    \"Ilyocoris cimicoides\"             [13] \"Aphelocheirus aestivalis\"        \"Notonecta glauca\"                 [15] \"Notonecta maculata\"              \"Notonecta obliqua\"                [17] \"Micronecta\"                      \"Cymatia coleoptrata\"              [19] \"Callicorixa praeusta\"            \"Callicorixa wollastoni\"           [21] \"Corixa affinis\"                  \"Corixa dentipes\"                  [23] \"Corixa panzeri\"                  \"Corixa punctata\"                  [25] \"Hesperocorixa linnei\"            \"Hesperocorixa sahlbergi\"          [27] \"Sigara (Sigara)\"                 \"Sigara distincta\"                 [29] \"Sigara falleni\"                  \"Sigara fossarum\"                  [31] \"Sigara scotti\"                   \"Sigara lateralis\"                 [33] \"Sigara nigrolineata\"             \"Sigara semistriata\"               [35] \"Sigara venusta\"                  \"Brychius elevatus\"                [37] \"Haliplus confinis\"               \"Haliplus flavicollis\"             [39] \"Haliplus fluviatilis\"            \"Haliplus heydeni\"                 [41] \"Haliplus immaculatus\"            \"Haliplus laminatus\"               [43] \"Haliplus lineatocollis\"          \"Haliplus lineolatus\"              [45] \"Haliplus ruficollis\"             \"Haliplus wehnckei\"                [47] \"Noterus clavicornis\"             \"Laccophilus hyalinus\"             [49] \"Laccophilus minutus\"             \"Hyphydrus ovatus\"                 [51] \"Hygrotus inaequalis\"             \"Hygrotus versicolor\"              [53] \"Hydroporus angustatus\"           \"Hydroporus discretus\"             [55] \"Hydroporus ferrugineus\"          \"Hydroporus memnonius\"             [57] \"Hydroporus nigrita\"              \"Hydroporus obscurus\"              [59] \"Hydroporus palustris\"            \"Hydroporus planus\"                [61] \"Hydroporus pubescens\"            \"Hydroporus tessellatus\"           [63] \"Stictonectes lepidus\"            \"Graptodytes pictus\"               [65] \"Porhydrus lineatus\"              \"Deronectes latus\"                 [67] \"Nebrioporus assimilis\"           \"Nebrioporus depressus\"            [69] \"Stictotarsus duodecimpustulatus\" \"Oreodytes davisii\"                [71] \"Oreodytes sanmarkii\"             \"Oreodytes septentrionalis\"        [73] \"Scarodytes halensis\"             \"Platambus maculatus\"              [75] \"Agabus bipustulatus\"             \"Agabus chalconatus\"               [77] \"Agabus didymus\"                  \"Agabus guttatus\"                  [79] \"Agabus paludosus\"                \"Agabus sturmii\"                   [81] \"Ilybius\"                         \"Colymbetes fuscus\"                [83] \"Acilius sulcatus\"                \"Dytiscus marginalis\"              [85] \"Dytiscus semisulcatus\"           \"Gyrinus aeratus\"                  [87] \"Gyrinus distinctus\"              \"Gyrinus marinus\"                  [89] \"Gyrinus urinator\"                \"Gyrinus natator group\"            [91] \"Orectochilus villosus\"           \"Helophorus aequalis\"              [93] \"Helophorus grandis\"              \"Helophorus arvernicus\"            [95] \"Helophorus brevipalpis\"          \"Helophorus flavipes\"              [97] \"Helophorus minutus\"              \"Helophorus obscurus\"              [99] \"Helophorus strigifrons\"          \"Paracymus scutellaris\"           [101] \"Hydrobius fuscipes\"              \"Anacaena bipustulata\"            [103] \"Anacaena globulus\"               \"Anacaena limbata\"                [105] \"Anacaena lutescens\"              \"Laccobius biguttatus\"            [107] \"Laccobius minutus\"               \"Laccobius atratus\"               [109] \"Laccobius atrocephalus\"          \"Laccobius sinuatus\"              [111] \"Laccobius striatulus\"            \"Enochrus testaceus\"              [113] \"Hydrochus angustatus\"            \"Ochthebius bicolon\"              [115] \"Ochthebius dilatatus\"            \"Ochthebius exsculptus\"           [117] \"Ochthebius minimus\"              \"Hydraena gracilis\"               [119] \"Hydraena nigrita\"                \"Hydraena pulchella\"              [121] \"Hydraena riparia\"                \"Hydraena rufipes\"                [123] \"Hydraena testacea\"               \"Limnebius nitidus\"               [125] \"Limnebius truncatellus\"          \"Elodes\"                          [127] \"Cyphon\"                          \"Prionocyphon serricornis\"        [129] \"Hydrocyphon deflexicollis\"       \"Pomatinus substriatus\"           [131] \"Dryops\"                          \"Tipulidae\"                       [133] \"Limoniidae\"                      \"Pediciidae\"                      [135] \"Athericidae\"                     \"Muscidae\"                        [137] \"Heptagenia lateralis\"            \"Gerris najas\"                    [139] \"Armiger crista\" [1] \"Ferrissia wautieri\"                        [2] \"Ferrissia (Pettancylus) clessiniana\"       [3] \"Aeolosomatidae\"                            [4] \"Lumbriculidae\"                             [5] \"Haplotaxidae\"                              [6] \"Naididae\"                                  [7] \"Tubificidae\"                               [8] \"Dikerogammarus villosus\"                   [9] \"Mesoveliidae\"                             [10] \"Hydrometridae\"                            [11] \"Veliidae\"                                 [12] \"Gerridae\"                                 [13] \"Nepidae\"                                  [14] \"Naucoridae\"                               [15] \"Aphelocheiridae\"                          [16] \"Notonectidae\"                             [17] \"Corixidae\"                                [18] \"Haliplidae\"                               [19] \"Noteridae\"                                [20] \"Dytiscidae\"                               [21] \"Gyrinidae\"                                [22] \"Helophoridae\"                             [23] \"Hydrophilidae\"                            [24] \"Hydrochidae\"                              [25] \"Hydraenidae\"                              [26] \"Scirtidae\"                                [27] \"Dryopidae\"                                [28] \"Tipula\"                                   [29] \"Eloeophila\"                               [30] \"Hexatoma\"                                 [31] \"Pedicia\"                                  [32] \"Dicranota\"                                [33] \"Atherix\"                                  [34] \"Limnophora\"                               [35] \"Enchytraeidae (including Propappidae)\"    [36] \"Lumbricidae (including Glossoscolecidae)\" [37] \"Cordulegastridae\"                         [38] \"Planorbis crista\"                         [39] \"Nemurella pictetii\""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"note-on-tl4","dir":"Articles","previous_headings":"Prepare Lists","what":"Note on TL4","title":"Freshwater Macroinvertebrate Taxa Lists","text":"TL4 double length ECN list (658 Vs 317). TL4 much resource intensive ECN list. …yes, unexpectedly TL4 larger list TL5. terms number taxa: TL1 < TL2 < TL3 < TL4 > TL5!","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"what-to-use","dir":"Articles","previous_headings":"Prepare Lists","what":"What to use?","title":"Freshwater Macroinvertebrate Taxa Lists","text":"need TL5 + ECN? ECN analysis can ‘downgraded’ TL5 used AWIC/LAMM TL5 level metrics. However, need take away family level options genus/species options available ECN/TL5, instance: Remove Oligochaeta (TL5) option replace sub families ECN list (Naididae, Lumbriculidae etc) Add Corixa affinis (TL5) remove Corixidae (ECN) ECN families keep: TL5 families keep","code":"[1] \"Aeolosomatidae\"   \"Lumbriculidae\"    \"Haplotaxidae\"     \"Naididae\"         [5] \"Tubificidae\"      \"Cordulegastridae\" [1] \"Tipulidae\"   \"Limoniidae\"  \"Pediciidae\"  \"Athericidae\" \"Muscidae\""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"not-active","dir":"Articles","previous_headings":"Prepare Lists","what":"Not Active","title":"Freshwater Macroinvertebrate Taxa Lists","text":"Check column active_data_entry = FALSE. column used filter taxa entered NEMS. Even particular taxa part official taxa list, sometimes reasons prevent entry use different (usually NBN preferred / recent name used identification keys) named. ECN taxa active: Nemurella pictetii > Nemurella picteti - one ‘’. use correctly spelt version. can converted back ‘pictetii’ ECN reporting required. Enchytraeidae (including Propappidae) & Lumbricidae (including Glossoscolecidae) don’t NBN codes constrains data sharing, additionally superfamilies previously recorded NEMS. Suggest include separate families instead superfamilies .e. Enchytraeidae, Propappidae, Lumbricidae, Glossoscolecidae. reporting ECN can re-combine super families required. TL5 taxa active: Heptagenia lateralis active, include Electrogena lateralis instead, preferred NBN used ECN. Armiger crista used looks like mistake, include Armiger crista. Gyraulus (Armiger) crista used ECN. Armiger crista can converted Gyraulus (Armiger) crista required ECN reporting.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"awic-taxa","dir":"Articles","previous_headings":"Prepare Lists","what":"AWIC taxa","title":"Freshwater Macroinvertebrate Taxa Lists","text":"AWIC taxa missing TL5? missing genus well covered species level TL5, don’t need added. Therefore analyst target species rather genus level:","code":"[1] \"Caenis\"      \"Protonemura\" \"Sialis\" [1] \"Caenis horaria\"               \"Caenis rivulorum\"              [3] \"Caenis robusta\"               \"Caenis pusilla\"                [5] \"Caenis luctuosa group\"        \"Caenis pseudorivulorum group\"  [7] \"Protonemura meyeri\"           \"Protonemura montana\"           [9] \"Protonemura praecox\"          \"Sialis fuliginosa\"            [11] \"Sialis lutaria\"               \"Sialis nigripes\""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"taxa-lists","dir":"Articles","previous_headings":"","what":"Taxa Lists","title":"Freshwater Macroinvertebrate Taxa Lists","text":"Three completed lists analysis.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"tl2-extra-taxasub-families","dir":"Articles","previous_headings":"Taxa Lists","what":"TL2 + extra taxa/sub-families","title":"Freshwater Macroinvertebrate Taxa Lists","text":"routine ‘family’ level lab bankside samples.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"tl5-lamm","dir":"Articles","previous_headings":"Taxa Lists","what":"TL5 + LAMM","title":"Freshwater Macroinvertebrate Taxa Lists","text":"sampling points AWIC LAMM, core surveillance (perhaps purposes).","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/articles/taxa.html","id":"tl5-lamm-ecn","dir":"Articles","previous_headings":"Taxa Lists","what":"TL5 + LAMM + ECN","title":"Freshwater Macroinvertebrate Taxa Lists","text":"sampling points ECN purpose, new analysis LIMS lists.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Carlos Ruiz. Author. Tim Foster. Contributor, maintainer.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Ruiz C (2024). macroinvertebrateMetrics: Macroinvertebrate Biotic indices. R package version 0.99.4, https://aquametrics.github.io/macroinvertebrateMetrics/, https://github.com/aquaMetrics/macroinvertebrateMetrics.","code":"@Manual{,   title = {macroinvertebrateMetrics: Macroinvertebrate Biotic indices},   author = {Carlos Ruiz},   year = {2024},   note = {R package version 0.99.4, https://aquametrics.github.io/macroinvertebrateMetrics/},   url = {https://github.com/aquaMetrics/macroinvertebrateMetrics}, }"},{"path":[]},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"work-in-progress","dir":"","previous_headings":"","what":"Work in Progress","title":"Macroinvertebrate Biotic indices","text":"Please don’t use production","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"aquametrics-package","dir":"","previous_headings":"","what":"aquaMetrics package","title":"Macroinvertebrate Biotic indices","text":"R package calculate macroinverebrate metrics R: Install development version GitHub:install.packages(\"devtools\")library(devtools)install_github(\"aquaMetrics/macroinvertebrateMetrics\")","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"quick-start","dir":"","previous_headings":"","what":"Quick-start","title":"Macroinvertebrate Biotic indices","text":"Calculate metrics: Calculate specific metrics: Use metric specific function:","code":"library(macroinvertebrateMetrics) all_metrics <- calc_metric(demo_data) head(all_metrics, 4) #> # A tibble: 4 x 5 #>   sample_id question     response         parameter parameter_long #>   <chr>     <chr>        <chr>            <chr>     <chr>          #> 1 1017980   sample_score 67               WFD_AWIC  WFD AWIC       #> 2 1017980   ntaxa        7                WFD_AWIC  WFD AWIC       #> 3 1017980   wfd_awic     9.57142857142857 WFD_AWIC  WFD AWIC       #> 4 1101214   sample_score 66               WFD_AWIC  WFD AWIC selected_metrics <- calc_metric(demo_data, metrics = c(\"whpt\",\"awic\")) head(selected_metrics, 4) #> # A tibble: 4 x 5 #>   sample_id question   response parameter   parameter_long #>   <chr>     <chr>      <chr>    <chr>       <chr>          #> 1 1017980   WHPT_SCORE 82.4     WHPT Metric WHPT Metric    #> 2 1101214   WHPT_SCORE 68.3     WHPT Metric WHPT Metric    #> 3 1250462   WHPT_SCORE 81.5     WHPT Metric WHPT Metric    #> 4 1419451   WHPT_SCORE 70.4     WHPT Metric WHPT Metric specific_metric <- calc_epsi(demo_data) head(specific_metric, 4) #> # A tibble: 4 x 5 #>   sample_id parameter_long                           parameter question response #>   <chr>     <chr>                                    <chr>     <chr>    <chr>    #> 1 1017980   Enhanced Proportion of Sediment-sensiti~ METRIC E~ EPSI Sc~ 97.3177~ #> 2 1017980   Enhanced Proportion of Sediment-sensiti~ METRIC E~ EPSI Co~ Minimal~ #> 3 1101214   Enhanced Proportion of Sediment-sensiti~ METRIC E~ EPSI Sc~ 94.7977~ #> 4 1101214   Enhanced Proportion of Sediment-sensiti~ METRIC E~ EPSI Co~ Minimal~"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"concepts","dir":"","previous_headings":"","what":"Concepts","title":"Macroinvertebrate Biotic indices","text":"calculate metric need:","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"input-data","dir":"","previous_headings":"","what":"Input Data","title":"Macroinvertebrate Biotic indices","text":"absolute minimium input data dataframe least two columns containing: label (taxon name) response (abundance - metrics don’t require abundance). Optional sample_id, parameter, question - book-keeping variables give info type data metrics can calculated based input data. example: ’s precise definition recommended input column see column_attributes: parameter gives info method analysis used. usually taxonomic level identification. ’s list recognised analyses: TL5 sample can downgraded TL3 TL2 ‘family’ level. Depending Taxonomic Level sample selected certain metrics can calculated list metric can calculated level listed : parameter supplied, metrics calculated however, may appropriate depending taxonomic resolution data analysed .","code":"#> [1] \"TL5 River Invertebrate\" \"River Family Inverts\"   \"BANKSIDE_INVERTS\"       #> [4] \"Work in progress\"       \"TL3 River Invertebrate\""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"input-metadata","dir":"","previous_headings":"","what":"Input Metadata","title":"Macroinvertebrate Biotic indices","text":"metric table identifying column names used sample_id, taxon_name abundance list validation rules column input data See ‘column_attributes’ example","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"metric-scores","dir":"","previous_headings":"","what":"Metric scores","title":"Macroinvertebrate Biotic indices","text":"list scores given taxa based expert opinion relationship pressure See macroinvertebrateTaxa example:","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"metric-metadata","dir":"","previous_headings":"","what":"Metric Metadata","title":"Macroinvertebrate Biotic indices","text":"See metric_cols name metric names columns required calculate particular metric","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/index.html","id":"calculate","dir":"","previous_headings":"","what":"Calculate","title":"Macroinvertebrate Biotic indices","text":"two ways calculate given metric, example WHPT can calculated using either calc_metric(demo_data, metric = \"whpt\") metric specific function calc_whpt(demo_data). two function execute code except calc_awic() uses calc_metric() behind scenes hard codes metric = \"whpt\" parameter save little bit typing. metrics follow calculation process: data input passed calc_metric() function. Input data validated internal function called validate_data(). function checks data correct format joins data taxonomic table containing metrics values. data (now metric values attached) passed specific internal metric functions. metric function calculates specific metrics. one metric requested, calc_metric() function calculates requested metrics -turn binds returns outputs final output dataframe.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_awic.html","id":null,"dir":"Reference","previous_headings":"","what":"Acid WFD-AWIC metric — calc_awic","title":"Acid WFD-AWIC metric — calc_awic","text":"Acid WFD-AWIC metric","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_awic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Acid WFD-AWIC metric — calc_awic","text":"","code":"calc_awic(   data,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\"),   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_awic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Acid WFD-AWIC metric — calc_awic","text":"data dataframe containing mixtaxon invertebrates names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. metric_cols Columns used taxon table calculate metrics plus taxon name column join input data (using custom taxon table) ... Pass specific paramters metric.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_awic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Acid WFD-AWIC metric — calc_awic","text":"dataframe","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_awic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Acid WFD-AWIC metric — calc_awic","text":"","code":"metricResults <- calc_awic(demo_data)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":null,"dir":"Reference","previous_headings":"","what":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"sediment-sensitive macro-invertebrate metric provides proxy describe extent surface river bed composed, covered sediments. can calculated Taxonomic Levels 2 & 5","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"","code":"calc_epsi(   data,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\"),   taxa_list = \"TL2\",   log_abundance = TRUE,   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"data Dataframe least three columns itemSAMPLE_ID - unique idenftier sample itemTAXON - Taxon name matches macroinvertebrateTaxa dataset itemRESULT - Numeric log abundance category names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. log_abundance RESULT column ecologyResults log category set FALSE. calculate log value numeric abundance. taxaList taxonomic level sample(s) identified according specificed taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL2\" - Taxa  \"TL5\" - Taxa list 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"Dataframe itemSAMPLE_ID itemANALYSIS_NAME itemDETERMINAND itemRESULT","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"Turley, Matt & Bilotta, Gary & Chadd, Richard & Extence, Chris & E Brazier, Richard & Burnside, Niall & Pickwell, Alex. (2016). sediment-specific family-level biomonitoring tool identify impacts fine sediment temperate rivers streams. Ecological Indicators. 70. 151-165. 10.1016/j.ecolind.2016.05.040.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_epsi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Empirically-weighted Proportion of Sediment-sensitive Invertebrates (E-PSI) — calc_epsi","text":"","code":"sample <- demo_data calc_epsi(data = sample, taxa_list = \"TL2\") #> # A tibble: 137 × 5 #>    sample_id parameter_long                          parameter question response #>    <chr>     <chr>                                   <chr>     <chr>    <chr>    #>  1 1017980   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Sc… 97.3177… #>  2 1017980   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Co… Minimal… #>  3 1101214   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Sc… 94.7977… #>  4 1101214   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Co… Minimal… #>  5 1250462   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Sc… 97.7455… #>  6 1250462   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Co… Minimal… #>  7 1419451   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Sc… 98.9023… #>  8 1419451   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Co… Minimal… #>  9 1457665   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Sc… 99.3715… #> 10 1457665   Enhanced Proportion of Sediment-sensit… METRIC E… EPSI Co… Minimal… #> # ℹ 127 more rows"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_metric.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate Macro-invertebrate Metrics — calc_metric","title":"Calculate Macro-invertebrate Metrics — calc_metric","text":"Calculate Macro-invertebrate Metrics","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_metric.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate Macro-invertebrate Metrics — calc_metric","text":"","code":"calc_metric(   data,   metrics = c(\"awic\", \"epsi\", \"psi\", \"riverfly\", \"spear\", \"whpt\"),   taxa_list = \"TL2\",   taxon_table = macroinvertebrateMetrics::macroinvertebrateTaxa,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\", \"Live abundance\"),   metric_cols = macroinvertebrateMetrics::metric_cols,   ... )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_metric.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate Macro-invertebrate Metrics — calc_metric","text":"data dataframe like `demo_data` metrics One One \"awic\", \"epsi\", \"riverfly\", \"spear\", \"whpt\". taxa_list Taxa list either \"TL2\", \"TL3\" \"TL5. taxon_table Optional Dataframe WHPT scores taxa. Default NULL use built WHPT scores. supply custom dataframe required experimenation/development purposes. questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. metric_cols Columns used taxon table calculate metrics plus taxon name column join input data (using custom taxon table) ... Pass specific paramters metric.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_metric.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate Macro-invertebrate Metrics — calc_metric","text":"dataframe","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_metric.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate Macro-invertebrate Metrics — calc_metric","text":"","code":"output <- calc_metric(demo_data)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":null,"dir":"Reference","previous_headings":"","what":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"sediment-sensitive macro-invertebrate metric provides proxy describe extent surface river bed composed, covered sediments. can calculated Taxonomic Levels 3, 4 & 5","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"","code":"calc_psi(   data,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\"),   taxa_list = \"TL3\",   log_abundance = TRUE,   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"data Dataframe least three columns itemsample_id - unique idenftier sample itemlabel - Taxon name matches macroinvertebrateTaxa dataset itemresponse - Log abundance category taxa_list taxonomic level sample(s) identified according specificed taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL3\" - Taxa list 3, \"TL4\" - Taxa list 4  \"TL5\" - Taxa list 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"Dataframe itemsample_id itemparmaeter itemquestion itemresponse","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"Extence, Chris & Chadd, Richard & England, Judy & Dunbar, M.J. & Wood, Paul & Taylor, E.D.. (2010). Assessment Fine Sediment Accumulation Rivers Using Macro-Invertebrate Community Response. River Research Applications. 29. 10.1002/rra.1569.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_psi.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — calc_psi","text":"","code":"sample <- demo_data calc_psi(data = sample, taxa_list = \"TL3\") #> # A tibble: 144 × 5 #>    sample_id parameter_long                          parameter question response #>    <chr>     <chr>                                   <chr>     <chr>    <chr>    #>  1 1017980   Proportion of Sediment-sensitive Inver… METRIC P… PSI Sco… 71.4285… #>  2 1017980   Proportion of Sediment-sensitive Inver… METRIC P… PSI Con… Slightl… #>  3 1101214   Proportion of Sediment-sensitive Inver… METRIC P… PSI Sco… 70       #>  4 1101214   Proportion of Sediment-sensitive Inver… METRIC P… PSI Con… Slightl… #>  5 1250462   Proportion of Sediment-sensitive Inver… METRIC P… PSI Sco… 66.6666… #>  6 1250462   Proportion of Sediment-sensitive Inver… METRIC P… PSI Con… Slightl… #>  7 1419451   Proportion of Sediment-sensitive Inver… METRIC P… PSI Sco… 62.5     #>  8 1419451   Proportion of Sediment-sensitive Inver… METRIC P… PSI Con… Slightl… #>  9 1457665   Proportion of Sediment-sensitive Inver… METRIC P… PSI Sco… 75       #> 10 1457665   Proportion of Sediment-sensitive Inver… METRIC P… PSI Con… Slightl… #> # ℹ 134 more rows"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_riverfly.html","id":null,"dir":"Reference","previous_headings":"","what":"Riverfly metric — calc_riverfly","title":"Riverfly metric — calc_riverfly","text":"Function calculate riverfly scores","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_riverfly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Riverfly metric — calc_riverfly","text":"","code":"calc_riverfly(   data,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\", \"Live abundance\"),   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_riverfly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Riverfly metric — calc_riverfly","text":"data data frame ecology data defined `column_attributes`. names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. metric_cols Columns used taxon table calculate metrics plus taxon name column join input data (using custom taxon table) ... Pass specific paramters metric.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_riverfly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Riverfly metric — calc_riverfly","text":"data frame 5 variables","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_riverfly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Riverfly metric — calc_riverfly","text":"","code":"data <- demo_data data <- data[data$parameter == \"River Family Inverts\", ] output <- calc_riverfly(data)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":null,"dir":"Reference","previous_headings":"","what":"SPEcies At Risk (SPEAR) metric — calc_spear","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"Indicator based biological traits used detect effects pesticides non-target freshwater invertebrate organisms. can calculated Taxonomic Levels 2, 4 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"","code":"calc_spear(data, recoveryArea = \"unknown\", taxa_list = \"TL2\")"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"data Dataframe results four columns: SAMPLE_NUMBER, TAXON, SPEAR_SPECIES, RESULT recoveryArea 3 different paramaters depending availability \"Recovery areas\" information: \"Absent\" - presence recovery areas \"Present\" - Presence recovery areas \"Unknown\" - information available taxa_list taxonomic level sample(s) identified according specificed taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL2\" - Taxa list 2, \"TL4\" - Taxa list 4  \"TL5\" - Taxa list 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"dataframe metric outputs","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"Liess M. & Von der Ohe P. 2005. Analyzing effects pesticides invertebrate communities streams. Environ Toxicol Chem. 24: 954-965. Wogram J. & Liess M. 2001. Rank ordering macroinvertebrate species sensitivity toxic compounds comparison Daphnia magna. Bull Environ Contam Toxicol. 67: 360-367 Liess M., Schaefer R., Schriever C. 2008. footprint pesticide stress communities - Species traits reveal community effects toxicants. Science Total Environment. 406: 484-490","code":""},{"path":[]},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_spear.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"SPEcies At Risk (SPEAR) metric — calc_spear","text":"","code":"spearOutput <- calc_spear(demo_data, taxa_list = \"TL2\")"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_whpt.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate WHPT scores — calc_whpt","title":"Calculate WHPT scores — calc_whpt","text":"Calculate WHPT scores","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_whpt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate WHPT scores — calc_whpt","text":"","code":"calc_whpt(   data,   taxon_table = macroinvertebrateMetrics::macroinvertebrateTaxa,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\", \"Live abundance\"),   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_whpt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate WHPT scores — calc_whpt","text":"taxon_table Optional Dataframe WHPT scores taxa. Default NULL use built WHPT scores. supply custom dataframe required experimenation/development purposes. names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. ecologyResults Dataframe taxonomic results mandatory three columns: SAMPLE_ID Unique sample identifier RESULT Numeric abundance TAXON Character - TL2 WHPT taxon name Columns names must match exactly, column order matter. See demoEcologyResults example dataset.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_whpt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate WHPT scores — calc_whpt","text":"Dataframe four columns: SAMPLE_ID, DETERMINAND, RESULT, ANALYSIS_NAME, ANALYSIS_REPNAME","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/calc_whpt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate WHPT scores — calc_whpt","text":"","code":"metricResults <- calc_whpt(demo_data)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demoEcologyResults.html","id":null,"dir":"Reference","previous_headings":"","what":"Demo Ecology results for testing purposes — demoEcologyResults","title":"Demo Ecology results for testing purposes — demoEcologyResults","text":"Dataframe containing ecology results including macroinvertebrate data testing examples.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demoEcologyResults.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Demo Ecology results for testing purposes — demoEcologyResults","text":"","code":"demoEcologyResults"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demoEcologyResults.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Demo Ecology results for testing purposes — demoEcologyResults","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demo_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Demo Ecology results for testing purposes — demo_data","title":"Demo Ecology results for testing purposes — demo_data","text":"Dataframe containing ecology results including macroinvertebrate data testing examples.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demo_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Demo Ecology results for testing purposes — demo_data","text":"","code":"demo_data"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/demo_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Demo Ecology results for testing purposes — demo_data","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_psi.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter results for PSI metric — filter_psi","title":"Filter results for PSI metric — filter_psi","text":"Filter results PSI metric","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_psi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter results for PSI metric — filter_psi","text":"","code":"filter_psi(data, taxa_list = taxa_list)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_psi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter results for PSI metric — filter_psi","text":"data Dataframe ecology results mandatory four columns: response - Numeric count result. label - Taxon name matching names macroinvertebrates::macroinvertebrateTaxa table question - 'Taxon abundance' sample_id - Unique identifier sample (number text) taxa_list taxonomic level sample(s) identified according specified taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL2\" - Taxa list 2, \"TL3\" - Taxa list 2 \"TL5\" Taxa list 5 \"TL4\". PSI TL lists match RIVPACS species e.g. TL3 list includes 'Oligochaeta' even though TL3 taxa according WFD100.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_psi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter results for PSI metric — filter_psi","text":"Dataframe","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_spear.html","id":null,"dir":"Reference","previous_headings":"","what":"Filter data before calculating SPEAR metric — filter_spear","title":"Filter data before calculating SPEAR metric — filter_spear","text":"Filter data calculating SPEAR metric","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_spear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Filter data before calculating SPEAR metric — filter_spear","text":"","code":"filter_spear(data, taxa_list = NULL)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_spear.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Filter data before calculating SPEAR metric — filter_spear","text":"data Dataframe ecology results... taxa_list taxonomic level sample(s) identified according specified taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL2\" - Taxa List 2, \"TL4\" - Taxa List 4  \"TL5\" - Taxa List 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/filter_spear.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Filter data before calculating SPEAR metric — filter_spear","text":"Dataframe filtered aggregated results (based Taxa List) four columns: sample_id, label, SPEAR_SPECIES, response","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/macroinvertebrateTaxa.html","id":null,"dir":"Reference","previous_headings":"","what":"Macroinvertebrate Taxa — macroinvertebrateTaxa","title":"Macroinvertebrate Taxa — macroinvertebrateTaxa","text":"Dataframe macroinvertebrate taxa used WFD100 / RICT","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/macroinvertebrateTaxa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Macroinvertebrate Taxa — macroinvertebrateTaxa","text":"","code":"macroinvertebrateTaxa"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/macroinvertebrateTaxa.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Macroinvertebrate Taxa — macroinvertebrateTaxa","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/macroinvertebrateTaxa.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Macroinvertebrate Taxa — macroinvertebrateTaxa","text":"data frame 49 columns 6656 rows, containing key columns:  Taxon name - UNique scientific name taxon","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/metric_cols.html","id":null,"dir":"Reference","previous_headings":"","what":"Metrics Metadata — metric_cols","title":"Metrics Metadata — metric_cols","text":"Dataframe containing metadata metrics","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/metric_cols.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Metrics Metadata — metric_cols","text":"","code":"metric_cols"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/metric_cols.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Metrics Metadata — metric_cols","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/metric_cols.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Metrics Metadata — metric_cols","text":"data frame 2 columns 18 rows, containing key columns:  name - metric name metric_names  - column(s) containing metric score","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psi.html","id":null,"dir":"Reference","previous_headings":"","what":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","text":"sediment-sensitive macro-invertebrate metric provides proxy describe extent surface river bed composed, covered sediments. can calculated Taxonomic Levels 3, 4 & 5","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psi.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","text":"","code":"psi(data, taxa_list = \"TL3\")"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psi.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","text":"data Dataframe least three columns itemsample_id - unique idenftier sample itemlabel - Taxon name matches macroinvertebrateTaxa dataset itemresponse - Log abundance category taxa_list taxonomic level sample(s) identified according specificed taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL3\" - Taxa list 3, \"TL4\" - Taxa list 4  \"TL5\" - Taxa list 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psi.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","text":"Dataframe itemsample_id itemparmaeter itemquestion itemresponse","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psi.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Proportion of Sediment-sensitive Invertebrates (PSI) — psi","text":"Extence, Chris & Chadd, Richard & England, Judy & Dunbar, M.J. & Wood, Paul & Taylor, E.D.. (2010). Assessment Fine Sediment Accumulation Rivers Using Macro-Invertebrate Community Response. River Research Applications. 29. 10.1002/rra.1569.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiCondition.html","id":null,"dir":"Reference","previous_headings":"","what":"PSI condition definition table — psiCondition","title":"PSI condition definition table — psiCondition","text":"Dataframe containing definition PSI conditions","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiCondition.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PSI condition definition table — psiCondition","text":"","code":"psiCondition"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiCondition.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"PSI condition definition table — psiCondition","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiSensitivityScore.html","id":null,"dir":"Reference","previous_headings":"","what":"PSI Sensitivity Score table — psiSensitivityScore","title":"PSI Sensitivity Score table — psiSensitivityScore","text":"Dataframe containing definition PSI Sensitivity Scores","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiSensitivityScore.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"PSI Sensitivity Score table — psiSensitivityScore","text":"","code":"psiSensitivityScore"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/psiSensitivityScore.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"PSI Sensitivity Score table — psiSensitivityScore","text":"data frame","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/riverfly.html","id":null,"dir":"Reference","previous_headings":"","what":"Riverfly metric — riverfly","title":"Riverfly metric — riverfly","text":"Function calculate riverfly scores","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/riverfly.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Riverfly metric — riverfly","text":"","code":"riverfly(   data,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\", \"Live abundance\"),   metric_cols = metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/riverfly.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Riverfly metric — riverfly","text":"data data frame ecology data defined `column_attributes`. names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/riverfly.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Riverfly metric — riverfly","text":"data frame 5 variables","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/riverfly.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Riverfly metric — riverfly","text":"","code":"data <- demo_data data <- data[data$parameter == \"River Family Inverts\", ] output <- calc_riverfly(data)"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/spear.html","id":null,"dir":"Reference","previous_headings":"","what":"SPEcies At Risk (SPEAR) metric — spear","title":"SPEcies At Risk (SPEAR) metric — spear","text":"Indicator based biological traits used detect effects pesticides non-target freshwater invertebrate organisms. can calculated Taxonomic Levels 2, 4 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/spear.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"SPEcies At Risk (SPEAR) metric — spear","text":"","code":"spear(data, recoveryArea = \"unknown\", taxa_list = \"TL2\")"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/spear.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"SPEcies At Risk (SPEAR) metric — spear","text":"data Dataframe results four columns: SAMPLE_NUMBER, TAXON, SPEAR_SPECIES, RESULT recoveryArea 3 different paramaters depending availability \"Recovery areas\" information: \"Absent\" - presence recovery areas \"Present\" - Presence recovery areas \"Unknown\" - information available taxa_list taxonomic level sample(s) identified according specificed taxa lists described WFD100 Development River Invertebrate Classification Tool. Either \"TL2\" - Taxa list 2, \"TL4\" - Taxa list 4  \"TL5\" - Taxa list 5.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/spear.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"SPEcies At Risk (SPEAR) metric — spear","text":"dataframe metric outputs","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/spear.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"SPEcies At Risk (SPEAR) metric — spear","text":"Liess M. & Von der Ohe P. 2005. Analyzing effects pesticides invertebrate communities streams. Environ Toxicol Chem. 24: 954-965. Wogram J. & Liess M. 2001. Rank ordering macroinvertebrate species sensitivity toxic compounds comparison Daphnia magna. Bull Environ Contam Toxicol. 67: 360-367 Liess M., Schaefer R., Schriever C. 2008. footprint pesticide stress communities - Species traits reveal community effects toxicants. Science Total Environment. 406: 484-490","code":""},{"path":[]},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/whpt.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate WHPT scores — whpt","title":"Calculate WHPT scores — whpt","text":"Calculate WHPT scores","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/whpt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate WHPT scores — whpt","text":"","code":"whpt(   data,   taxon_table = macroinvertebrateMetrics::macroinvertebrateTaxa,   names = macroinvertebrateMetrics::column_attributes$name,   questions = c(\"Taxon abundance\", \"Taxon Abundance\", \"Live abundance\"),   metric_cols = macroinvertebrateMetrics::metric_cols )"},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/whpt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate WHPT scores — whpt","text":"taxon_table Optional Dataframe WHPT scores taxa. Default NULL use built WHPT scores. supply custom dataframe required experimenation/development purposes. names Optional, user provided list column names different used `column_attributes` match input data questions Optional, user provided 'question' default 'Taxon abundance', filters abundance values. ecologyResults Dataframe taxonomic results mandatory three columns: SAMPLE_ID Unique sample identifier RESULT Numeric abundance TAXON Character - TL2 WHPT taxon name Columns names must match exactly, column order matter. See demoEcologyResults example dataset.","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/whpt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate WHPT scores — whpt","text":"Dataframe four columns: SAMPLE_ID, DETERMINAND, RESULT, ANALYSIS_NAME, ANALYSIS_REPNAME","code":""},{"path":"https://aquametrics.github.io/macroinvertebrateMetrics/reference/whpt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate WHPT scores — whpt","text":"","code":"metricResults <- calc_whpt(demo_data)"}]
